var log = require("../lib/logger.js");
/*
 *
 *  var options = {
 *  enable: ["error", "warn", "info", "debug", "stdout", "stderr"],
 *  fileName: "node.log",
 *  directory: "../log",
 *  writeDelay: 200,
 *  bufferSize: 4096,
 *  fileMaxSize: 1024 * 1024 * 10,
 *  maxBackupFileNumber: 10,
 *  gzipBackupFile: false,
 *  compressionLevel: 3,
 *  verbose: true
 * */
var logger = log.create({
    enable: ["error", "warn", "info", "debug", "stdout", "stderr"],
    directory:"./", fileName:"node_test.log"
});

var testLogger = log.create({
    enable: ["error", "warn", "info", "debug", "stdout", "stderr"],
    directory:"./", fileName:"multi_logger_test.log"
});

// Error and stream (stdout, stderr) logging
logger
    .error("This goes out to error.log") // Outputs "ERROR: This goes out to error.log"
    .stderr("This goes out to stderr") // Outputs "This goes out to stderr"
    .stdout("This goes out to stdout"); // Outputs "This goes out to stdout"

// Logging specific types
logger
    .warn("This goes out to warn.log") // Outputs "WARN: This goes out to warn.log"
    .info("This goes out to info.log") // Outputs "INFO: This goes out to info.log"
    .debug("This goes out to debug.log") // Outputs "DEBUG: This goes out to debug.log"

// Enabling/disabling logger types
logger
    .disable("error")
    .error("This goes out to error.log") // No output
    .enable("error")
    .error("This goes out to error.log"); // Outputs "ERROR: This goes out to error.log"


// All these logs should go to different file
testLogger
    .error("This goes out to error.log") // Outputs "ERROR: This goes out to error.log"
    .stderr("This goes out to stderr") // Outputs "This goes out to stderr"
    .stdout("This goes out to stdout"); // Outputs "This goes out to stdout"

// Logging specific types
testLogger
    .warn("This goes out to warn.log") // Outputs "WARN: This goes out to warn.log"
    .info("This goes out to info.log") // Outputs "INFO: This goes out to info.log"
    .debug("This goes out to debug.log") // Outputs "DEBUG: This goes out to debug.log"

// Enabling/disabling logger types
testLogger
    .disable("error")
    .error("This goes out to error.log") // No output
    .enable("error")
    .error("This goes out to error.log"); // Outputs "ERROR: This goes out to error.log"

//disable testLogger.enable("error") and use logger to log error.
testLogger.disable("error");
logger.error("Test logger disabled error mode, but logger still can write in error msg");
testLogger.error("Test logger disabled error mode, but logger still can write in error msg");

